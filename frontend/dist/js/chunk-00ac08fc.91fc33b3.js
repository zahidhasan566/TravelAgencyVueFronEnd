(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00ac08fc"],{"0155":function(t,e,a){},"5a1d":function(t,e,a){"use strict";a("0155")},"9b28":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticStyle:{background:"aquamarine"}},[t._v(" Blog Posts ")]),e("button",{staticClass:"badd",on:{click:function(e){return e.preventDefault(),t.postMsg()}}},[t._v("Create New Post")]),e("p",{staticStyle:{padding:"10px 10px","margin-top":"25px",background:"#ffec65","font-size":"18px","font-weight":"bolder"}},[t._v(" Previous Posts ")]),e("table",{staticClass:"table table-sm",attrs:{id:"datatable1"}},[t._m(0),e("tbody",t._l(t.blogPost.data,(function(a){return e("tr",{key:a},[e("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(a["id"]))]),e("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(a["title"]))]),e("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(a["content"]))]),e("td",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{src:a["path"],width:"50px",height:"50px"}})]),e("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(a["created_at"]))]),e("td",{staticStyle:{"text-align":"center"}},[e("button",{staticClass:"btn btn-primary",on:{click:function(e){e.preventDefault(),t.updateData(a["id"]),t.$bvModal.show("editModal")}}},[t._v("View ")]),e("button",{staticClass:"badd2",on:{click:function(e){return e.preventDefault(),t.deletePost(a["id"])}}},[t._v("Delete")])])])})),0)]),e("pagination",{attrs:{data:t.blogPost,limit:2},on:{"pagination-change-page":t.getPost}}),e("b-modal",{staticStyle:{background:"none"},attrs:{id:"editModal",size:"lg","hide-footer":""}},[e("div",{staticClass:"d-block text-center"},[e("h3",[t._v(" Blogs Information !")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:"btitle_update"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.blogs_update["title"],expression:"blogs_update['title']"}],staticClass:"form-control",attrs:{type:"text",id:"btitle_update"},domProps:{value:t.blogs_update["title"]},on:{input:function(e){e.target.composing||t.$set(t.blogs_update,"title",e.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{attrs:{for:"content_update"}},[t._v("Content")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.blogs_update["content"],expression:"blogs_update['content']"}],staticClass:"form-control",attrs:{type:"text",id:"content_update"},domProps:{value:t.blogs_update["content"]},on:{input:function(e){e.target.composing||t.$set(t.blogs_update,"content",e.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v("Photo")]),e("img",{attrs:{src:t.blogs_update["path"],width:"200px",height:"200px"}})])]),e("label",[t._v(" Select Updated Photo")]),t._v(": "),e("input",{ref:"profilePicture",attrs:{type:"file",accept:".jpg,.jpeg,.png"},on:{change:t.onFileChanged}}),e("b-button",{staticClass:"mt-3",staticStyle:{width:"10%",background:"red"},attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("editModal")}}},[t._v("Close ")]),e("b-button",{staticClass:"mt-3",staticStyle:{width:"20%","margin-left":"15px",background:"green"},attrs:{block:""},on:{click:function(e){return t.updateConfirmData(t.blogs_update["id"])}}},[t._v("Update")])],1)],1)},i=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("Id ")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Post Title")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Post Content")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Blog pic")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Blog Created")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Action")])])])}],s=(a("14d9"),a("bc3a"),a("386a")),l={data(){return{blogPost:[],image:[],profile_picture:"",update_profile_picture:"",blogs_update:[],update_blog_picture:null}},mounted(){this.getPost(),this.getProfilePicture(),window.Echo.channel("postCreate23").listen(".PostCreated",t=>{})},methods:{postMsg(){this.$router.push({name:"post_create"})},getPost(t=1){s["a"].post("/api/admin/view-blog-post?page="+t).then(t=>{this.blogPost=t.data.blogPost}).catch(t=>{console.log(t)})},getProfilePicture(){this.update_profile_picture=this.$refs.profilePicture.files[0],this.update_profile_picture.size>3072e3&&(this.$notification.error({message:"File size not greater then 3 MB"}),this.update_profile_picture="")},deletePost(t){s["a"].post("/api/admin/delete-blog-post",{Id:t}).then(t=>{this.$toast("Successfully Deleted",{timeout:2e3}),setTimeout(()=>{this.$router.go()},2e3)}).catch(t=>{console.log(t)})},updateData(t){console.log(t),s["a"].post("/api/blog/update",{Id:t}).then(t=>{this.blogs_update=t.data.blogs_update}).catch(t=>console.log(t))},updateConfirmData(t){const e=new FormData;e.append("Id",this.blogs_update["id"]),e.append(" title",this.blogs_update["title"]),e.append("bcontent",this.blogs_update["content"]),e.append("update_blog_picture",this.update_blog_picture),s["a"].post("/api/blog/update/confirm",e,{headers:{"Content-Type":"multipart/form-data","Content-type":"application/json"}}).then(t=>{this.$toast("Successfully Updated",{timeout:2e3}),setTimeout(()=>{this.$router.go()},2e3),console.log(t)}).catch(t=>console.log(t))},onFileChanged(){this.update_blog_picture=this.$refs.profilePicture.files[0]}}},n=l,c=(a("5a1d"),a("2877")),r=Object(c["a"])(n,o,i,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-00ac08fc.91fc33b3.js.map